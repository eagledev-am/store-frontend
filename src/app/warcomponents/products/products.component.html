<div class="container mt-5 mb-5">

    <div class="row">  
        
        <div class="row">
            <div class="d-flex justify-content-between ">
                <h2>Products</h2>
                <button class="btn btn-primary" style="width: 100px;" (click)="goToWarehouseProducts()"><fa-icon [icon]="backWard"></fa-icon> Back</button> 
           </div>
        </div>
    
        <div class="row d-flex justify-content-center">
            <div class="input-group mt-5">
                <input type="text" class="p-inputtext-medium" pInputText name="text" [(ngModel)]="text" placeholder="Search"  (ngModelChange)="getSearchedProducts()" style="width: 100%;" />
            </div>
            <div id="datatable">
            </div>
        </div>
        <div id="datatable">
        </div>
    </div>

    <div class="container mb-4 mt-4">
            <p-table [value]="products" selectionMode="single"  dataKey="code" 
            [paginator]="true"
            [rows]="5"
            currentPageReportTemplate="Showing {first} to {last} "
            >
                <ng-template pTemplate="header">
                    <tr>
                        <tr>
                            <th pSortableColumn="id">ID<p-sortIcon field="id"></p-sortIcon></th>
                            <th pSortableColumn="name">Name<p-sortIcon field="name"></p-sortIcon></th>
                            <th pSortableColumn="price">Price <p-sortIcon field="price"></p-sortIcon></th>
                            <th pSortableColumn="categoryName">Category<p-sortIcon field="categoryName"></p-sortIcon></th>
                            <th>Image Url <p-sortIcon field="id"></p-sortIcon></th>
                            <th *ngIf="!checkRoute()">Action <p-sortIcon field="id"></p-sortIcon></th>
                        </tr>
                </ng-template>
                <ng-template pTemplate="body" let-product>
                    <tr>
                        <td>{{product.id}}</td>
                        <td>{{product.name}}</td>
                        <td>{{product.price}}</td>
                        <td>{{product.categoryName}}</td>
                        <td>{{product.imageUrl}}</td>
                        <td *ngIf="!checkRoute()">
                           <app-stockform [ware_id]="warehouse_id" [product_id]="product.id"></app-stockform>
                        </td>
                    </tr>

                    <tr>
                        <td *ngIf="products.length == 0" colspan="6">No Products Found</td>
                    </tr>
                </ng-template>
                
            </p-table>
    </div>


</div>

